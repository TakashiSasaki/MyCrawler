<html>
	<head>
		<title>statusWindow</title>
		<script type="text/python">
			import GetVersion
			import GaeAdopter
			import os
			def GetCurrentDirectory(): return os.getcwd()
			import os.path
			def ExpandUser(): return os.path.expanduser("~")
		</script>
		<script type="text/javascript">
			function OnLoadHandler() {
				var python_version_element = document.getElementById("python_version");
				python_version_element.innerHTML = GetVersion.GetVersion();
				var python_path_element = document.getElementById("python_path");
				python_path_element.innerHTML = GetVersion.GetSysPath();
				document.getElementById("python_user_directory").innerHTML = ExpandUser();
				document.getElementById("application_guid").innerHTML = Titanium.App.getGUID();
				document.getElementById("application_id").innerHTML=Titanium.App.getID();
				document.getElementById("application_name").innerHTML = Titanium.App.getName();
				document.getElementById("application_path").innerHTML = Titanium.App.getPath();
				document.getElementById("application_publisher").innerHTML = Titanium.App.getPublisher();
				document.getElementById("application_stream_url").innerHTML = Titanium.App.getStreamURL("release-list");
				document.getElementById("application_version").innerHTML = Titanium.App.getVersion();
				document.getElementById("current_directory").innerHTML = GetCurrentDirectory();
				document.getElementById("titanium_platform_id").innerHTML = Titanium.Platform.id;
			}
		</script>
	</head>
	<body onload="OnLoadHandler();">
		<h1>Application info</h1>
		<h2>Application GUID</h2>
		<p id="application_guid">
		</p>
		<h2>Human readable application ID</h2>
		<p id="application_id">
		</p>
		<h2>Application name</h2>
		<p id="application_name">
		</p>
		<h2>Application path</h2>
		<p id="application_path">
		</p>
		<h2>Application publisher</h2>
		<p id="application_publisher">
		</p>
		<h2>Application stream URL</h2>
		<p id="application_stream_url">
		</p>
		<h2>Application version</h2>
		<p id="application_version">
		</p>
		<h2>Application update</h2>
		<script type="text/javascript">
			// I can't get it worked.
			function UpdateObomb() {
				alert("UpdateObomb()")
				Titanium.UpdateManager.cacnelMonitor();
			}

			var UpdateCheckedCallback = function() {
				alert("UpdateCheckedCallback()");
			}
			Titanium.UpdateManager.onupdate="UpdateObomb";
			Ti.UpdateManager.startMonitor("mobilesdk", function(details) {
				alert(123);
			}, 1000);
		</script>
		<h1>Runtime environment</h1>
		<h2>Titanium Platform ID</h2>
		<p id="titanium_platform_id">
		</p>
		<h2>Current directory</h2>
		<p id="current_directory">
		</p>
		<h1>Python environment</h1>
		<h2>Python interpreter</h2>
		<p id="python_version">
			The version of Python interpreter will appear here.
		</p>
		<h2>Python sys.path</h2>
		<p id="python_path">
			The value of sys.path will appear here.
		</p>
		<h2>Home directory</h2>
		<p id="python_user_directory">
		</p>
		<h2>Application data directory</h2>
		<p id="application_data_directory">
		</p>
		<input type="button" onclick="OnLoadHandler();" value="refresh"/>
	</body>
</html>